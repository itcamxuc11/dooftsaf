(this.webpackJsonpfoodde=this.webpackJsonpfoodde||[]).push([[0],{159:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),s=(a(88),a(7)),o=a(8),i=a(10),m=a(9),u=(a(89),a(16)),d=a(12),p=a(6),h=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).onClickLogout=function(){p.auth().signOut()},e}return Object(o.a)(a,[{key:"render",value:function(){return this.props.loginedUser?l.a.createElement("span",null,l.a.createElement("span",{onClick:this.onClickLogout,className:"header__link",to:"/login"},"\u0110\u0103ng xu\u1ea5t"),l.a.createElement(d.b,{to:"myprofile"},l.a.createElement("span",{className:"header__link"},this.props.loginedUser.displayName))):l.a.createElement(d.b,{className:"header__link",to:"/login"},"\u0110\u0103ng nh\u1eadp")}}]),a}(n.Component),E=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getCartNumber=function(){var e=JSON.parse(localStorage.getItem("cart"));return e?l.a.createElement("span",{className:"basket-count pos-absolute"},e.total):null},n.getCartStatus=function(e){return!0===e?"show":"hide"},n.getCartInfo=function(){var e=JSON.parse(localStorage.getItem("cart"));return e?e.items:[]},n.onChangeQuantity=function(e,t){var a=e.target.value,l=JSON.parse(localStorage.getItem("cart")),r=l.items,c=r.findIndex((function(e){return e.id==t}));if(-1!==c){var s=r[c].count,o=l.total+(a-s);0==a?r.splice(c,1):r[c].count=a;var i={items:r,total:o};console.log(o),n.props.upDateCart(JSON.stringify(i))}},n.order=function(){n.props.showCart()},n.state={redirect:!1,userLogined:null},p.auth().onAuthStateChanged((function(e){n.setState({userLogined:e})})),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("header",{className:"header"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"header__inner"},l.a.createElement("a",{href:"/"},l.a.createElement("img",{src:"/images/logo_web.png",alt:"Uber Eats",className:"header__logo"})),l.a.createElement("div",{className:"header__delivery-info"},l.a.createElement("label",{className:"control"},l.a.createElement("div",{className:"control__input-wrapper border-0 tablet dropdown"},l.a.createElement("ul",{className:"dropdown-leagues"})))),l.a.createElement("div",{className:"header__search"},l.a.createElement("label",{className:"control"})),l.a.createElement(h,{loginedUser:this.state.userLogined}),l.a.createElement("button",{onClick:this.props.showCart,className:"header__link pos-relative",href:"/basket"},l.a.createElement("img",{title:"basket",className:"header-logo",src:"/images/basket.svg",alt:"basket"}),this.getCartNumber())))),l.a.createElement("div",{className:this.getCartStatus(this.props.onCheckout)+" modal"},l.a.createElement("div",{className:"checkout d-flex flex-colum"},l.a.createElement("div",{className:"checkout-header"},l.a.createElement("div",{className:"justify-content-end d-flex"},l.a.createElement("button",{onClick:this.props.showCart},l.a.createElement("img",{src:"/images/close.svg"}))),l.a.createElement("h3",null,"Gi\u1ecf h\xe0ng")),l.a.createElement("table",null,l.a.createElement("thead",null),l.a.createElement("tbody",null,this.getCartInfo().map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",{className:"pr-0"},l.a.createElement("img",{className:"item__img",alt:"Item",src:t.image})),l.a.createElement("td",{className:"text pl-0"},t.name),l.a.createElement("td",{className:"text"},t.price),l.a.createElement("td",{className:"text"},l.a.createElement("input",{min:"1",onChange:function(a){e.onChangeQuantity(a,t.id)},type:"number",Value:t.count})),l.a.createElement("td",{onClick:function(){e.props.deleteItemFromCart(t)},className:"text delete-item"},"X"))})))),l.a.createElement("div",{className:"checkout-footer"},l.a.createElement(d.b,{to:"/checkout"},l.a.createElement("button",{onClick:this.order},"\u0110\u1eb7t h\xe0ng"))))))}}]),a}(n.Component),g=Object(u.b)((function(e){return{tmp:e.cartReducer.folowCart,onCheckout:e.cartReducer.onCheckout}}),(function(e,t){return{showCart:function(){e({type:"SHOW_CART"})},upDateCart:function(t){e({type:"UPDATE",data:t})},deleteItemFromCart:function(t){e({type:"DELETE",item:t})}}}))(E),f=a(26),b=a(11),N=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChangeInput=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(f.a)({},t,a))},n.componentDidMount=function(){console.log(p.auth().currentUser)},n.onClickLogin=function(){p.auth().createUserWithEmailAndPassword(n.state.email,n.state.password).then((function(e){var t=e.user;t.updateProfile({displayName:n.state.displayName}),p.firestore().collection("users").doc(t.uid).set({name:n.state.displayName,address:n.state.address,email:n.state.email,phoneNumber:n.state.phoneNumber,role:"user"}).then((function(){n.setState({redirect:!0})}))})).catch((function(e){var t=e.message;alert(t)}))},n.state={email:"",password:""},n}return Object(o.a)(a,[{key:"render",value:function(){var e="";return this.state.redirect&&(e=l.a.createElement(b.a,{to:"/"})),l.a.createElement("div",{id:"root"},e,l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"sc-fznyAO ejMHpf pt-3"},l.a.createElement("div",{className:"form-container"},l.a.createElement("h2",{className:"mb-4"},"\u0110\u0103ng k\xfd"),l.a.createElement("form",null,l.a.createElement("input",{onChange:this.onChangeInput,name:"email",type:"email",placeholder:"Email",className:"mb-1 sc-AxiKw dVlCBT"}),l.a.createElement("input",{onChange:this.onChangeInput,name:"password",type:"password",placeholder:"M\u1eadt kh\u1ea9u",className:"mb-1 sc-AxiKw dVlCBT"}),l.a.createElement("input",{onChange:this.onChangeInput,name:"displayName",type:"text",placeholder:"T\xean \u0111\u1ea7y \u0111\u1ee7",className:"mb-1 sc-AxiKw dVlCBT"}),l.a.createElement("input",{onChange:this.onChangeInput,name:"address",type:"text",placeholder:"\u0110\u1ecba ch\u1ec9",className:"mb-1 sc-AxiKw dVlCBT"}),l.a.createElement("input",{onChange:this.onChangeInput,name:"phoneNumber",type:"number",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",className:"mb-1 sc-AxiKw dVlCBT"}),l.a.createElement("button",{type:"button",onClick:this.onClickLogin,className:"mb-1 sc-AxhCb gxxaVj"},"\u0110\u0103ng k\xfd")),l.a.createElement(d.b,{to:"/login"},"\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n?")))))}}]),a}(n.Component),v=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).addToCart=function(){var e={id:n.props.id,name:n.props.name,image:n.props.image,price:n.props.price,description:n.props.description,count:1};n.props.addToCart(e)},n}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"item"},l.a.createElement("div",{className:"item__left"},l.a.createElement("h3",{className:"item__title"},this.props.name),l.a.createElement("p",{className:"item__description mb-1"},this.props.description),l.a.createElement("div",{className:"d-flex"},l.a.createElement("p",{className:"item__price col-10 mb-1"},this.props.price," \u0110"),l.a.createElement("p",{onClick:this.addToCart,className:"col-2 mb-1 text-right p-0"},l.a.createElement("img",{className:"add-cart",alt:"add",src:"/images/plus.svg"})))),l.a.createElement("div",{className:"item-right"},l.a.createElement("img",{className:"item__img",alt:"Meal",src:this.props.image}))))}}]),a}(n.Component),C=Object(u.b)(null,(function(e,t){return{addToCart:function(t){e({type:"ADD",item:t})}}}))(v),_=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={restaurantName:"",restaurantAdress:"",description:"",categories:[],itemList:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;localStorage.setItem("id",t),p.firestore().collection("restaurants").doc(t).get().then((function(t){if(t.exists){var a=t.data();localStorage.setItem("location",JSON.stringify(t.data().location));var n=[];a.categories&&(n=a.categories),e.setState({restaurantName:a.name,restaurantAdress:a.address,description:a.description,categories:n}),t.ref.collection("menu").get().then((function(t){var a=[];t.forEach((function(e){a.push({id:e.id,data:e.data()})})),e.setState({itemList:a})}))}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"page"},l.a.createElement("main",null,l.a.createElement("div",{className:"restaurant-page restaurant"},l.a.createElement("div",{className:"hero"},l.a.createElement("div",{className:"restaurant-page__img-wrapper"},l.a.createElement("img",{src:"https://d1ralsognjng37.cloudfront.net/43976b06-3271-4476-bdd6-5f37ac5db65e",alt:"",className:"restaurant-page__img"})),l.a.createElement("div",{className:"restaurant-page__title page__title"},l.a.createElement("h1",{className:"page__title_indent title"},this.state.restaurantName),l.a.createElement("p",{className:"page__title_indent categories"},this.state.description),l.a.createElement("p",{className:"eta"},"20\u201330 min"),l.a.createElement("div",{className:"location-wrapper"},l.a.createElement("p",{className:"location"},this.state.restaurantAdress),l.a.createElement("a",{href:"https://www.google.com.ua/maps /@50.4851493,30.4721233,14z?hl=ru",className:"location__info"},l.a.createElement("span",{className:"location__dot"},"\u2022"),"Map"))),l.a.createElement("div",{className:"content"})),l.a.createElement("div",{className:"content"},l.a.createElement("nav",{className:"restaurant__menu"},l.a.createElement("ul",{className:"restaurant__menu-items menu"},this.state.categories.map((function(e,t){return l.a.createElement("li",{key:t,className:"menu__item"},l.a.createElement("a",{href:"#"+e},l.a.createElement("p",{className:"menu__item-btn"},e)))})))),l.a.createElement("div",{className:"restaurant__main"},this.state.categories.map((function(t,a){return l.a.createElement("section",{key:a,id:t,className:"restaurant__items items"},l.a.createElement("h2",{className:"restaurant-title"},t),l.a.createElement("div",{className:"container-item"},e.state.itemList.filter((function(e){return e.data.category===t})).map((function(e,t){return l.a.createElement(C,{id:e.id,key:t,image:e.data.image,name:e.data.name,price:e.data.price,description:e.data.description})}))))})))))))}}]),a}(n.Component),k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("footer",{className:"footer"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"footer__top-part"},l.a.createElement("div",{className:"footer__main"},l.a.createElement("div",{className:"footer__logo-container"},l.a.createElement("a",{href:"/"},l.a.createElement("img",{className:"footer__logo",src:"/images/logo_web.png",alt:"Doof Tsaf"})),l.a.createElement("div",{className:"select"},l.a.createElement("select",{name:"language",className:"select__input"},l.a.createElement("option",{value:"vi"},"Ti\u1ebfng Vi\u1ec7t")),l.a.createElement("img",{className:"select__icon",src:"/images/world.svg",alt:"select icon"}),l.a.createElement("img",{className:"select__arrow",src:"/images/if_icon-ios7-arrow-back_211686.svg",alt:"arrow down"}))),l.a.createElement("div",{className:"footer__mobile-apps"},l.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com .ubercab.eats&referrer=mat_click_id%3D7056afe65227473 9b3ef74d2aa740491-20191103-7336%26link_click_id%3D719 550996128553076&mat_click_id=7056afe652274739b3ef74d2 aa740491-20191103-7336 ",className:"footer__mobile-app"},l.a.createElement("img",{src:"/images/Google.svg",alt:"App Store"})),l.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com .ubercab.eats&referrer=mat_click_id%3D7056afe65227473 9b3ef74d2aa740491-20191103-7336%26link_click_id%3D719 550996128553076&mat_click_id=7056afe652274739b3ef74d2 aa740491-20191103-7336 ",className:"footer__mobile-app"},l.a.createElement("img",{src:"/images/Apple.svg",alt:"Google Play"})))),l.a.createElement("div",null,l.a.createElement("a",{href:"http://localhost:4000/register",className:"links__link"},"\u0110\u0103ng k\xfd m\u1edf qu\xe1n")),l.a.createElement("div",{className:"footer__top-links links"},l.a.createElement("a",{href:"#",className:"links__link links__link--intended"},"L\xean \u0111\u1ea7u trang"),l.a.createElement("a",{href:"#",className:"links__link"}))),l.a.createElement("div",{className:"footer__bottom-part"},l.a.createElement("p",{className:"footer__copyright"},"- 2020 Doof Tsaf."),l.a.createElement("div",{className:"footer__misc"},l.a.createElement("div",{className:"footer__social social"},l.a.createElement("a",{href:"#",className:"social__link"},l.a.createElement("img",{src:"/images/twitter.svg",alt:"facebook"})),l.a.createElement("a",{href:"#",className:"social__link"},l.a.createElement("img",{src:"/images/instagram.svg",alt:"twitter"})),l.a.createElement("a",{href:"#",className:"social__link"},l.a.createElement("img",{src:"/images/Group (4).svg",alt:"instagram"})))))))}}]),a}(n.Component),y=a(31),w=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={itemList:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=p.firestore(),a=new window.google.maps.DirectionsService;t.collection("restaurants").get().then((function(t){t.forEach((function(t){var n=t.data(),l=t.id,r={origin:new window.google.maps.LatLng(n.location.lat,n.location.lng),destination:new window.google.maps.LatLng(e.props.location.lat,e.props.location.lng),travelMode:"DRIVING"};a.route(r,(function(t,a){if(t.routes[0]){var r=t.routes[0].legs[0];if(!r)return;r.distance.value<1e4&&e.setState({itemList:[].concat(Object(y.a)(e.state.itemList),[{id:l,data:n,distance:r.distance.text,duration:r.duration.text}])})}}))}))})).catch((function(e){console.log("Error getting document:",e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"content search-content"},l.a.createElement("h3",{className:"heading-page"},"C\xe1c qu\xe1n \u0103n g\u1ea7n "+this.props.address),l.a.createElement("div",{className:"container-item"},this.state.itemList.map((function(e,t){return l.a.createElement(d.b,{key:t,to:"/restaurant/"+e.id},l.a.createElement("div",{className:"item flex-colum item-search"},l.a.createElement("div",{className:"store-banner"},l.a.createElement("img",{className:"reponsive-img",src:"https://d1sag4ddilekf6.cloudfront.net/compressed/merchants/5-CZCKJNWFLAEXV2/hero/bc5d650bc29e40d0a789e23cea051895_1590338521272011232.jpg"})),l.a.createElement("h4",{className:"store-title"},e.data.name),l.a.createElement("div",{className:"store-des"},e.data.description),l.a.createElement("div",{className:"store-des d-flex"},l.a.createElement("div",{className:"rating"},"5"),l.a.createElement("div",{className:"time-delivery"},l.a.createElement("h4",null,e.distance+" - "+e.duration)))))}))))}}]),a}(n.Component),O=Object(u.b)((function(e){return{location:e.searchReducer.location,address:e.searchReducer.address}}))(w),j=a(35),S=a.n(j),x="AIzaSyDnbHQ_2Q9POiAFe6k6D0iW3XiNicNNvdE",I=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSelected=function(e){n.props.search({location:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},address:e.formatted_address}),n.setState({location:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})},n.onBtnSearchClick=function(){n.props.search(n.state.location),console.log(n.state.location)},n.state={location:{lat:"10.871326",lng:"106.789129"},address:"DHSPKT"},n}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"home-page"},l.a.createElement("h3",{className:"search-title"},"T\xecm qu\xe1n \u0103n \u1edf g\u1ea7n b\u1ea1n"),l.a.createElement("div",{className:"d-flex justify-content-center w-100"},l.a.createElement("div",{className:"search-box"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"marker-icon"},l.a.createElement("img",{src:"images/marker.png"})),l.a.createElement("div",{className:"fl-search"},l.a.createElement(S.a,{onPlaceSelected:this.onSelected,apiKey:x,types:["address"],componentRestrictions:{country:"VN"},className:"txt-search",placeholder:"\u0110\u1ecba ch\u1ec9"})))),l.a.createElement("div",null,l.a.createElement(d.b,{to:"/restaurants"},l.a.createElement("button",{className:"btn-search"},"T\xecm"))))))}}]),a}(n.Component),D=Object(u.b)(null,(function(e,t){return{search:function(t){e({type:"SEARCH",data:t})}}}))(I),A=(a(106),p.initializeApp({apiKey:"AIzaSyCOIm5_13T2c_OeaMdGtRDwNc1hb-Y1AOc",authDomain:"kltn-81564.firebaseapp.com",databaseURL:"https://kltn-81564.firebaseio.com",projectId:"kltn-81564",storageBucket:"kltn-81564.appspot.com",messagingSenderId:"686159462882",appId:"1:686159462882:web:f0e0b939f3f6c9b17179bb"}),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).onSubmitHandler=function(e){e.preventDefault();var t=p.firestore(),a=localStorage.getItem("id");t.collection("orders").doc().set({username:n.state.name,address:n.state.address,location:n.state.location,phoneNumber:n.state.phoneNumber,totalPrice:n.state.total+n.state.shippingFee,detail:n.state.items,restaurant:a,shippingFee:n.state.shippingFee,date:new Date,user:p.auth().currentUser.uid,status:"Ch\u1edd x\xe1c nh\u1eadn"}).then((function(){alert("\u0110\u1eb7t th\xe0nh c\xf4ng"),localStorage.removeItem("cart"),n.setState({redirect:!0,path:"/"})}))},n.onChangeInput=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(f.a)({},t,a))},n.onSelected=function(e){var t=new window.google.maps.DirectionsService;n.setState({address:e.formatted_address,location:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}});var a=JSON.parse(localStorage.getItem("location")),l={origin:new window.google.maps.LatLng(a.lat,a.lng),destination:new window.google.maps.LatLng(e.geometry.location.lat(),e.geometry.location.lng()),travelMode:"DRIVING"};t.route(l,(function(e,t){if(e.routes[0]){var a=e.routes[0].legs[0];if(!a)return;n.setState({shippingFee:T(a.distance.value)})}}))};var l=JSON.parse(localStorage.getItem("cart"));if(l){for(var r=l.items,c=0,o=0;o<r.length;o++)c+=r[o].price*r[o].count;n.state={items:l.items,count:l.total,total:c,shippingFee:0}}else n.state={items:[],count:0,total:0,shippingFee:0};return n}return Object(o.a)(a,[{key:"render",value:function(){var e="";return this.state.redirect&&(e=l.a.createElement(b.a,{to:this.state.path})),l.a.createElement("div",{className:"container mb-5"},e,l.a.createElement("div",{className:"py-5 text-center"},l.a.createElement("h2",null,"X\xe1c nh\u1eadn \u0111\u1eb7t h\xe0ng")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 order-md-2 mb-4"},l.a.createElement("h4",{className:"d-flex justify-content-between align-items-center mb-3"},l.a.createElement("span",{className:"text-muted"},"Gi\u1ecf h\xe0ng"),l.a.createElement("span",{className:"badge badge-secondary badge-pill"},this.state.count)),l.a.createElement("ul",{className:"list-group mb-3"},this.state.items.map((function(e,t){return l.a.createElement("li",{key:t,className:"list-group-item d-flex justify-content-between lh-condensed"},l.a.createElement("div",null,l.a.createElement("h6",{className:"my-0"},e.name),l.a.createElement("small",{className:"text-muted"},"x "+e.count)),l.a.createElement("span",{className:"text-muted"},e.count*e.price))})),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},l.a.createElement("span",null,"Ph\xed v\u1eadn chuy\u1ec3n"),l.a.createElement("strong",null,this.state.shippingFee)),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},l.a.createElement("span",null,"T\u1ed5ng (VN\u0110)"),l.a.createElement("strong",null,this.state.total+this.state.shippingFee)))),l.a.createElement("div",{className:"col-md-8 order-md-1"},l.a.createElement("h4",{className:"mb-3"},"Th\xf4ng tin ng\u01b0\u1eddi mua"),l.a.createElement("form",{onSubmit:this.onSubmitHandler,className:"needs-validation",noValidate:!0},l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",{htmlFor:"email"},"T\xean ",l.a.createElement("span",{className:"text-muted"})),l.a.createElement("input",{onChange:this.onChangeInput,type:"text",className:"form-control",name:"name",placeholder:"Nguyen van a"}),l.a.createElement("div",{className:"invalid-feedback"},"Please enter a valid email address for shipping updates.")),l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",{htmlFor:"address"},"\u0110\u1ecba ch\u1ec9"),l.a.createElement(S.a,{onPlaceSelected:this.onSelected,apiKey:x,types:["address"],componentRestrictions:{country:"VN"},className:"form-control",placeholder:"\u0110\u1ecba ch\u1ec9"}),l.a.createElement("div",{className:"invalid-feedback"},"Please enter your shipping address.")),l.a.createElement("div",{className:"mb-3"},l.a.createElement("label",null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ",l.a.createElement("span",{className:"text-muted"})),l.a.createElement("input",{type:"text",onChange:this.onChangeInput,className:"form-control",name:"phoneNumber",placeholder:"091234567"})),l.a.createElement("hr",{className:"mb-4"}),l.a.createElement("button",{className:"btn btn-primary btn-lg btn-block",type:"submit"},"\u0110\u1eb7t h\xe0ng")))))}}]),a}(n.Component));function T(e){return(e/=1e3)<=5?2e4:5e3*Math.ceil(e)+2e4}var L=Object(u.b)((function(e){return{tmp:e.cartReducer.folowCart,onCheckout:e.cartReducer.onCheckout}}))(A),M=a(161),R=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChangeInput=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(f.a)({},t,a))},n.componentDidMount=function(){console.log(p.auth().currentUser)},n.onClickLogin=function(){p.auth().signInWithEmailAndPassword(n.state.email,n.state.password).then((function(){n.setState({redirect:!0})})).catch((function(e){var t=e.message;alert(t)}))},n.onClickReset=function(){p.auth().sendPasswordResetEmail(n.state.forgetedAccount).then((function(){alert("S\u1eed d\u1ee5ng link \u0111\u01b0\u1ee3c g\u1eedi v\xe0o email c\u1ee7a b\u1ea1n \u0111\u1ec3 \u0111\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u!")})).catch((function(e){alert(e)}))},n.close=function(){n.setState({showModal:!1})},n.showModal=function(){n.setState({showModal:!0})},n.state={email:"",password:"",forgetedAccount:"",showModal:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e="";return this.state.redirect&&(e=l.a.createElement(b.a,{to:"/"})),l.a.createElement("div",{id:"root"},e,l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"sc-fznyAO ejMHpf pt-3"},l.a.createElement("div",{className:"form-container"},l.a.createElement("h2",{className:"mb-4 mt-4"},"\u0110\u0103ng nh\u1eadp"),l.a.createElement("form",null,l.a.createElement("input",{onChange:this.onChangeInput,name:"email",type:"email",placeholder:"Email",className:"mb-1 sc-AxiKw dVlCBT"}),l.a.createElement("input",{onChange:this.onChangeInput,name:"password",type:"password",placeholder:"M\u1eadt kh\u1ea9u",className:"mb-1 sc-AxiKw dVlCBT"}),l.a.createElement("button",{type:"button",onClick:this.onClickLogin,className:"mb-1 sc-AxhCb gxxaVj"},"\u0110\u0103ng nh\u1eadp")),l.a.createElement(d.b,{to:"/register"},"\u0110\u0103ng k\xfd"),l.a.createElement(d.b,{className:"ml-2",onClick:this.showModal},"Qu\xean m\u1eadt kh\u1ea9u")))),l.a.createElement(M.a,{show:this.state.showModal,onHide:this.close},l.a.createElement(M.a.Header,{closeButton:!0},l.a.createElement(M.a.Title,null,"Qu\xean m\u1eadt kh\u1ea9u")),l.a.createElement(M.a.Body,null,l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email c\u1ee7a b\u1ea1n:"),l.a.createElement("input",{onChange:this.onChangeInput,name:"forgetedAccount",type:"text",className:"form-control"}))))),l.a.createElement(M.a.Footer,null,l.a.createElement("button",{className:"btn btn-secondary",onClick:this.close},"Close"),l.a.createElement("button",{className:"btn btn-primary",onClick:this.onClickReset},"Reset m\u1eadt kh\u1ea9u"))))}}]),a}(n.Component),V=a(60),P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return 1==this.props.alertShow?l.a.createElement(V.b,null,l.a.createElement(V.a,{timeout:500,onDismiss:this.props.hideAlert,type:"success"},"Th\xeam th\xe0nh c\xf4ng")):null}}]),a}(n.Component),F=Object(u.b)((function(e){return{alertShow:e.cartReducer.alertShow}}),(function(e){return{hideAlert:function(){e({type:"HIDE_ALERT"})}}}))(P),H=a(17),B=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onClickDetail=function(e){n.setState({showModal:!0,items:n.state.orders[e].detail})},n.close=function(){n.setState({showModal:!1})},n.onEditClick=function(){n.setState({editClass:"show",name:n.state.userData.name,address:n.state.userData.address,location:n.state.userData.location,description:n.state.userData.description,phoneNumber:n.state.userData.phoneNumber})},n.onSelected=function(e){n.setState({address:e.formatted_address,location:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})},n.onClickSave=function(){var e=p.firestore().collection("users"),t=p.auth().currentUser.uid;e.doc(t).set(Object(H.a)(Object(H.a)({},n.state.userData),{},{address:n.state.address,location:n.state.location,name:n.state.name,phoneNumber:n.state.phoneNumber})).then((function(){n.setState({editClass:""})})).catch()},n.onChangeInput=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(f.a)({},t,a))},n.state={orders:[],items:[],showModal:!1,editClass:"",userData:{},name:"",address:"",phoneNumber:0,location:{}},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=p.firestore().collection("orders"),a=p.firestore().collection("users"),n=p.auth().currentUser.uid;a.where(p.firestore.FieldPath.documentId(),"==",n).onSnapshot((function(t){t.docChanges().forEach((function(t){console.log(t.doc.data()),e.setState({userData:t.doc.data()})}))})),t.where("user","==",n).onSnapshot((function(t){t.docChanges().forEach((function(t){"added"===t.type&&e.setState({orders:[].concat(Object(y.a)(e.state.orders),[t.doc.data()])})}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container mb-5 pb-5"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"sub-menu"}," "),l.a.createElement("div",{className:"d-flex heading-panel mt-5"},l.a.createElement("h3",{className:"col-12 page-title"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("input",{type:"text",Value:this.state.userData.name,onChange:this.onChangeInput,className:this.state.editClass+" form-control info-left",name:"name"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{onClick:this.onEditClick,className:"input-group-text info-right"},l.a.createElement("i",{className:"fas fa-pencil-alt"})))))),l.a.createElement("div",{className:"mt-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend "},l.a.createElement("span",{className:"input-group-text info-left"},l.a.createElement("i",{className:"fas fa-map-marker-alt"}))),l.a.createElement(S.a,{className:this.state.editClass+" form-control info-right",onPlaceSelected:this.onSelected,apiKey:x,types:["address"],componentRestrictions:{country:"VN"},Value:this.state.userData.address})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend "},l.a.createElement("span",{className:"input-group-text info-left"},l.a.createElement("i",{className:"fas fa-mobile-alt"}))),l.a.createElement("input",{type:"number",className:this.state.editClass+" form-control info-right",onChange:this.onChangeInput,Value:this.state.userData.phoneNumber,name:"phoneNumber"})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{onClick:this.onClickSave,className:this.state.editClass+" btn btn-primary btn-hs"},"L\u01b0u"))))),l.a.createElement("div",{className:"col-8"},l.a.createElement("div",{className:"sub-menu"}," "),l.a.createElement("div",{className:"d-flex heading-panel mt-5"},l.a.createElement("h3",{className:"col-6 page-title"},"L\u1ecbch s\u1eed mua h\xe0ng"),l.a.createElement("div",{className:"col-12"})),l.a.createElement("div",{className:"data-box"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"STT"),l.a.createElement("th",null,"Ng\u01b0\u1eddi mua"),l.a.createElement("th",null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),l.a.createElement("th",null,"T\u1ed5ng ti\u1ec1n"),l.a.createElement("th",null,"Tr\u1ea1ng th\xe1i"))),l.a.createElement("tbody",null,this.state.orders.map((function(t,a){return l.a.createElement("tr",{key:a+1},l.a.createElement("td",null,a),l.a.createElement("td",null,t.username),l.a.createElement("td",null,t.phoneNumber),l.a.createElement("td",null,t.totalPrice),l.a.createElement("td",null,t.status),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.onClickDetail(a)},className:"btn btn-outline-info"},"Chi ti\u1ebft")))}))))),l.a.createElement(M.a,{show:this.state.showModal,onHide:this.close},l.a.createElement(M.a.Header,{closeButton:!0},l.a.createElement(M.a.Title,null,"Chi ti\u1ebft \u0111\u01a1n h\xe0ng")),l.a.createElement(M.a.Body,null,l.a.createElement("div",{className:" mb-4"},l.a.createElement("ul",{className:"list-group mb-3"},this.state.items.map((function(e,t){return l.a.createElement("li",{key:t,className:"list-group-item d-flex justify-content-between lh-condensed"},l.a.createElement("div",null,l.a.createElement("h6",{className:"my-0"},e.name),l.a.createElement("small",{className:"text-muted"},"x "+e.count)),l.a.createElement("span",{className:"text-muted"},e.count*e.price+" \u0110"))}))))),l.a.createElement(M.a.Footer,null,l.a.createElement("button",{className:"btn btn-secondary",onClick:this.close},"Close"))))))}}]),a}(n.Component),J=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={user:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.auth().onAuthStateChanged((function(t){t?e.setState({user:t}):e.setState({user:null})}))}},{key:"render",value:function(){return this.state.user?l.a.createElement("div",{className:"App"},l.a.createElement(F,null),l.a.createElement(d.a,null,l.a.createElement(g,null),l.a.createElement(b.d,null,l.a.createElement(b.b,{exact:!0,path:"/"},l.a.createElement(D,null)),l.a.createElement(b.b,{path:"/restaurant/:id",component:_}),l.a.createElement(b.b,{path:"/restaurants"},l.a.createElement(O,null)),l.a.createElement(b.b,{path:"/checkout"},l.a.createElement(L,null)),l.a.createElement(b.b,{path:"/login"},l.a.createElement(R,null)),l.a.createElement(b.b,{path:"/register"},l.a.createElement(N,null)),l.a.createElement(b.b,{path:"/myprofile"},l.a.createElement(B,null))),l.a.createElement(k,null))):l.a.createElement("div",{className:"App"},l.a.createElement(F,null),l.a.createElement(d.a,null,l.a.createElement(g,null),l.a.createElement(b.d,null,l.a.createElement(b.b,{exact:!0,path:"/"},l.a.createElement(D,null)),l.a.createElement(b.b,{path:"/restaurant/:id",component:_}),l.a.createElement(b.b,{path:"/restaurants"},l.a.createElement(O,null)),l.a.createElement(b.b,{path:"/login"},l.a.createElement(R,null)),l.a.createElement(b.b,{path:"/register"},l.a.createElement(N,null)),l.a.createElement(b.b,{path:"/"},l.a.createElement(R,null))),l.a.createElement(k,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(34),U={folowCart:!0,addAlert:!1,onCheckout:!1,alertShow:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":var a=JSON.parse(localStorage.getItem("cart")),n=[],l=0;if(a){n=Object(y.a)(a.items),l=a.total;var r=n.findIndex((function(e){return e.id==t.item.id}));-1!==r?n[r].count++:n.push(t.item)}else n.push(t.item);return localStorage.setItem("cart",JSON.stringify({total:l+1,items:n})),Object(H.a)(Object(H.a)({},e),{},{folowCart:!e.folowCart,alertShow:!0});case"UPDATE":return localStorage.setItem("cart",t.data),Object(H.a)(Object(H.a)({},e),{},{folowCart:!e.folowCart});case"DELETE":var c=JSON.parse(localStorage.getItem("cart")),s=Object(y.a)(c.items),o=c.total,i=s.findIndex((function(e){return e.id==t.item.id}));return s.splice(i,1),localStorage.setItem("cart",JSON.stringify({total:o-t.item.count,items:s})),Object(H.a)(Object(H.a)({},e),{},{folowCart:!e.folowCart});case"SHOW_CART":return Object(H.a)(Object(H.a)({},e),{},{onCheckout:!e.onCheckout});case"HIDE_ALERT":return Object(H.a)(Object(H.a)({},e),{},{alertShow:!1});default:return e}},W={location:{lat:"10.871326",lng:"106.789129"},address:"1 V\xf5 V\u0103n Ng\xe2n TP.HCM Vi\u1ec7t Nam"},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return t.data;default:return e}},Q=Object(K.b)({cartReducer:G,searchReducer:z}),X=K.c(Q);c.a.render(l.a.createElement(u.a,{store:X},l.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,a){e.exports=a(159)},88:function(e,t,a){},89:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.a409b998.chunk.js.map